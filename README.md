# MPC企业级Web3钱包

基于门限签名（MPC）技术的企业级Web3钱包，专注于跨境电商区块链供应链金融平台。

## 产品概述

- **项目名称**: MetaChain MPC企业级Web3钱包
- **联合研发**: 浙江大学滨江区区块链与数据安全全国重点实验室
- **目标场景**: C2B2B全球跨境电商区块链供应链金融平台
- **生态合作**: Meta生态系统深度集成
- **产品定位**: 打造"Web3版支付宝"，为跨境电商平台提供安全、高效的去中心化支付结算解决方案

## 核心价值

### 业务价值
- **支付安全**: MPC技术确保私钥永不完整存储，杜绝单点风险
- **跨境结算**: 实现秒级跨境支付，降低传统金融结算成本
- **供应链金融**: 应收账款Token化，提升资金周转效率
- **生态互通**: 与Meta生态深度集成，实现用户身份和数据互通

### 技术优势
- 浙大实验室的密码学研究成果转化
- 企业级安全标准和合规框架
- 可扩展的多链架构设计

### 用户体验升级
- **无密码认证**: 集成 Solana Passkey 技术，支持人脸识别、指纹等生物识别方式，实现与 Web2 钱包相同的无缝登录体验
- **设备级安全**: 基于 WebAuthn 标准，私钥存储在设备安全区域（TPM/Secure Enclave），消除密码泄露风险
- **跨平台兼容**: 支持现代浏览器和移动设备原生生物识别能力

## 技术架构

### 整体架构
```
┌─────────────────────────────────────────────────────────────┐
│                   客户端层 (Client Layer)                    │
├─────────────────────────────────────────────────────────────┤
│  Web前端  │  移动端  │  Passkey认证  │  管理后台  │  区块链钱包  │
└─────────────────────────────────────────────────────────────┘
                               │
┌─────────────────────────────────────────────────────────────┐
│                   Passkey 服务层 (Passkey Service Layer)     │
├─────────────────────────────────────────────────────────────┤
│  WebAuthn服务 │  密钥管理  │  挑战响应  │  设备绑定  │  生物识别集成│
└─────────────────────────────────────────────────────────────┘
                               │
┌─────────────────────────────────────────────────────────────┐
│                   网关层 (Gateway Layer)                     │
├─────────────────────────────────────────────────────────────┤
│  API网关  │  负载均衡  │  安全防护  │  限流熔断  │  协议转换  │
└─────────────────────────────────────────────────────────────┘
                               │
┌─────────────────────────────────────────────────────────────┐
│                   应用服务层 (Application Layer)             │
├─────────────────────────────────────────────────────────────┤
│ 用户服务 │ 资产服务 │ 交易服务 │ Passkey服务 │ 风控服务 │ 审计服务 │
└─────────────────────────────────────────────────────────────┘
                               │
┌─────────────────────────────────────────────────────────────┐
│                   核心服务层 (Core Service Layer)            │
├─────────────────────────────────────────────────────────────┤
│  MPC服务集群  │  区块链中间件  │  消息队列  │  缓存集群  │
└─────────────────────────────────────────────────────────────┘
                               │
┌─────────────────────────────────────────────────────────────┐
│                   基础设施层 (Infrastructure Layer)          │
├─────────────────────────────────────────────────────────────┤
│  数据库集群  │  区块链节点  │  文件存储  │  监控告警  │
└─────────────────────────────────────────────────────────────┘
```

### 技术栈选型

#### 编程语言
- **后端**: Rust (MPC核心模块), Go (业务逻辑层), Java (传统企业服务)
- **前端**: TypeScript + React (Web端), React Native (移动端)
- **区块链**: Solidity (智能合约), Rust (Substrate链)

#### 数据库
- **主数据库**: PostgreSQL (业务数据)
- **缓存**: Redis Cluster
- **分析**: ClickHouse
- **区块链数据**: The Graph索引

#### 区块链网络
- **公链**: Ethereum Mainnet, Polygon, BNB Chain
- **私有链**: SupplyChain Finance Chain (基于Substrate)

#### 云基础设施
- **容器**: Kubernetes
- **服务网格**: Istio
- **监控**: Prometheus + Grafana
- **日志**: ELK Stack

## 核心功能模块

### 1. MPC密钥管理
- 支持2-3、3-5等多种门限方案
- 密钥分片分布式存储，单点无法还原完整私钥
- 支持密钥分片轮换和备份恢复
- 硬件安全模块(HSM)集成支持

### 2. 多链资产管理
- 以太坊/EVM兼容链原生支持
- 比特币、Polygon、BSC等主流公链
- 供应链金融专有链定制支持
- 跨链资产映射和桥接功能

### 3. 跨境电商支付
- C2B2B支付通道，类似支付宝的担保交易模式
- 买家付款至智能合约托管，卖家发货后买家确认收款
- 争议仲裁机制（平台介入）
- 支持多种稳定币(USDT, USDC)

### 4. 供应链金融服务
- 应收账款Token化(NFT)
- 智能合约自动执行还款
- 多级供应商融资支持
- 信用评级和风险定价

### 5. Passkey 无密码认证
- **生物识别集成**: 支持人脸识别、指纹等设备原生生物识别技术
- **WebAuthn 标准**: 基于 W3C WebAuthn 协议，确保跨平台兼容性
- **设备绑定安全**: 密钥与设备硬件绑定，无法导出，防止网络钓鱼攻击
- **无缝用户体验**: 注册、登录、交易确认全流程无密码操作
- **备份恢复机制**: 支持安全账户恢复方案，避免设备丢失风险

## 快速开始

### 开发环境准备
```bash
# 克隆项目
git clone <repository-url>
cd mpc-web3-wallet

# 启动开发环境
make dev-up

# 运行测试
make test
```

### 项目结构
```
mpc-web3-wallet/
├── mpc-core/          # MPC核心服务 (Rust)
├── blockchain-middleware/  # 区块链中间件 (Go/Rust)
├── backend-services/  # 后端业务服务 (Go/Java)
├── frontend-web/      # Web前端 (TypeScript + React)
├── frontend-mobile/   # 移动端 (React Native)
├── smart-contracts/   # 智能合约 (Solidity)
├── private-chain/     # 供应链金融专有链 (Substrate)
├── infrastructure/    # 基础设施配置
├── docs/             # 文档
└── scripts/          # 脚本
```

## 开发路线图

### 第一阶段（3-6个月）：基础MVP
- MPC钱包核心功能开发
- 基础支付功能实现
- Meta基础集成

### 第二阶段（3-6个月）：电商场景深化
- 供应链金融功能开发
- 跨境支付优化
- 风控系统建设

### 第三阶段（3-6个月）：生态扩展
- 交易所钱包功能扩展
- 开放平台建设
- 全球化部署

## 安全与合规

### 安全需求
- 私钥永不完整出现于内存或存储
- 支持多重签名和审批流程
- 完整的操作审计日志
- 防钓鱼和反欺诈机制
- 定期安全渗透测试

### 合规需求
- 符合中国密码法要求
- GDPR数据保护合规
- 跨境支付相关金融牌照
- 反洗钱(AML)监控系统
- 税务报告自动化

## 性能指标
- 单笔交易处理时间 < 3秒
- 系统并发支持 > 10,000 TPS
- 钱包响应时间 < 500ms
- 99.99%系统可用性

## 贡献指南
请参考 [CONTRIBUTING.md](docs/CONTRIBUTING.md)

## 许可证
本项目采用商业许可证，详情请参考 [LICENSE](LICENSE)# 测试CI/CD触发
